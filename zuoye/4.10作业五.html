<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>滚动条</title>
		<style type="text/css">
			*{
				padding: 0px;
				margin: 0px;
			}
			#bg {
			    width: 10px;
			    height: 500px;
			    position: relative;
			    background: salmon;
			    margin-left: 509px;
			    z-index: 10;
			    border-radius: 15px;
			}
			#scrollbar {
			    width: 8px;
			    height: 42px;
			    background: saddlebrown;
			    position: absolute;
			    left: 1px;
			    top: 0px;
			    border-radius: 15px;
			}
			#box {
			    width: 415px;
			    height: 500px;
			    border: 1px solid red;
			    position: relative;
			    overflow: hidden;
			    top: 0px;
			    position: absolute;
			    left: 103px;
			    z-index: 0;
			}
			#gundong{
				position: absolute;
				left: 0px;
				top: 0px;
			}
			#one{
				width: 400px;
				height: 160px;
				border: 1px solid saddlebrown;
				position: relative;
			}
			#one img{
				width: 100%;
				height: 100%;
				border: none;
			}
			#dw{
				position: absolute;
				bottom: 0px;
				display: inline-block;
				width: 100%;
				height: 30px;
				background: gray;
				text-align: center;
				line-height: 30px;
				opacity: 0.5;
				color: white;
				font-size: 20px;
			}
			p {
			    margin-left: 0px;
			    font-size: 17px;
			    line-height: 24px;
			}
		</style>
	</head>
	<body>
		<div id="bg">
			<div id="scrollbar">
				
			</div>
		</div>
		<div id="box">
			<div id="gundong">
				<div id="one">
					<img src="../img/017.gif"/>
					<span id="dw">
						this is a test!
					</span>
				</div>
				<p>足球是我们的最爱！</p>
				<p>那时开玩笑的！别人不知道的秘密！</p>
				<p>定时开通会员！</p>
				<div id="one">
					<img src="../img/015.gif"/>
					<span id="dw">
						this is a test!
					</span>
				</div>
				<p>足球是我们的最爱！</p>
				<p>那时开玩笑的！别人不知道的秘密！</p>
				<p>定时开通会员！</p>
				<div id="one">
					<img src="../img/014.gif"/>
					<span id="dw">
						this is a test!
					</span>
				</div>
				<p>足球是我们的最爱！</p>
				<p>那时开玩笑的！别人不知道的秘密！</p>
				<p>定时开通会员！</p>
				<div id="one">
					<img src="../img/009.jpg"/>
					<span id="dw">
						this is a test!
					</span>
				</div>
				<p>足球是我们的最爱！</p>
				<p>那时开玩笑的！别人不知道的秘密！</p>
				<p>定时开通会员！</p>
				<div id="one">
					<img src="../img/008.jpg"/>
					<span id="dw">
						this is a test!
					</span>
				</div>
				<p>足球是我们的最爱！</p>
				<p>那时开玩笑的！别人不知道的秘密！</p>
				<p>定时开通会员！</p>
				<div id="one">
					<img src="../img/005.jpg"/>
					<span id="dw">
						this is a test!
					</span>
				</div>
				<p>足球是我们的最爱！</p>
				<p>那时开玩笑的！别人不知道的秘密！</p>
				<p>定时开通会员！</p>
			</div>
		</div>
		<script type="text/javascript">
			var isDown=false;
			var dw=document.getElementById("dw");
			var scrollbar=document.getElementById("scrollbar");
			var box=document.getElementById("box");
			var gundong=document.getElementById("gundong");
			var bg=document.getElementById("bg");
				bg.addEventListener("mousedown",mdHander);
				bg.addEventListener("mousemove",mvHander);
				var y = 0;
				document.addEventListener("mouseup",muHander);
				function mdHander(e){
					isDown=true;
					y = e.clientY;
				}
				function mvHander(e){
					if (isDown) {
						var scale=(gundong.offsetHeight-box.offsetHeight)/(500-42);
						console.log(gundong.offsetHeight);
						
						scrollbar.style.top=e.clientY-21+"px";
						if (e.clientY<0) {
							scrollbar.style.top=0+"px";
						}else if (e.clientY>485) {
							scrollbar.style.top=420+"px";
						}
						gundong.style.top = -scale*parseInt(scrollbar.style.top) + 'px';
					}
				}
				function muHander(e){
					isDown=false;
				}
		</script>
	</body>
</html>
